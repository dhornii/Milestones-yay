<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

  <xacro:macro name="leg_description">
      <!-- materials for color reference -->
    <material name="orange">
      <color rgba="0.9 0.2 0.1 1"/>
    </material>

    <material name="light_green">
      <color rgba="0.251 1 0.239 1"/>
    </material>

    <material name="yellow">
      <color rgba="0.9176 0.9372 0.17254902 1"/>
    </material>

    <material name="light_blue">
      <color rgba="0.239 0.92 0.94 1"/>
    </material>

    <!-- base link, pi = 1.57079632679 -->
    <link name="base_link">
      <visual>
          <geometry>
              <cylinder length="0.375" radius="0.1"/>
          </geometry>
          <origin xyz="0 0 -0.1875" rpy="0 0 0"/>
          <material name="yellow"/>
      </visual>
    </link>

    <!-- box and cylinders -->
    <link name="coxa">
      <visual>
          <geometry>
              <box size="0.35 0.15 0.15"/>
          </geometry>
          <origin xyz="0.075 0 0" rpy="0 0 0"/>
          <material name="orange"/>
      </visual>
    </link>

    <link name="femur">
      <visual>
          <geometry>
              <cylinder length="0.55" radius="0.075"/>
          </geometry>
          <origin xyz="0.275 0 0" rpy="0 1.57079632679 0"/>
          <material name="light_green"/>
      </visual>
    </link>

    <link name="tibia">
      <visual>
          <geometry>
              <cylinder length="0.7149" radius="0.1"/>
          </geometry>
          <origin xyz="0 0 -0.35745" rpy="0 0 0"/>
          <material name="light_blue"/>
      </visual>
    </link>

    <!-- joint between coxa, femur, and tibia -->
    <joint name="Base_Coxa" type="revolute">
      <parent link="base_link"/>
      <child link="coxa"/>
      <axis xyz="0 0 1"/>
      <origin xyz="0 0 -0.45"/>
      <limit effort="1000.0" lower="-1.57079632679" upper="1.57079632679" velocity="0.5"/>
    </joint>

    <joint name="Coxa_Femur" type="revolute">
      <parent link="coxa"/>
      <child link="femur"/>
      <axis xyz="0 -1 0"/>
      <origin xyz="0.25 0 0"/>
      <limit effort="1000.0" lower="-1.57079632679" upper="1.57079632679" velocity="0.5"/>
    </joint>

    <joint name="Femur_Tibia" type="revolute">
      <parent link="femur"/>
      <child link="tibia"/>
      <axis xyz="0 -1 0"/>
      <origin xyz="0.55 0 0"/>
      <limit effort="1000.0" lower="-1.57079632679" upper="1.57079632679" velocity="0.5"/>
    </joint>

    <!-- additional fixed joint at the end of tibia for leg's final position -->
    <link name="end_effector"/>
      <joint name="foot" type="fixed">
        <parent link="tibia"/>
        <child link="end_effector"/>
        <origin xyz="0 0 -0.7149"/>
      </joint>

  </xacro:macro>

</robot>